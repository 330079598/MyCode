�� $N$ ����Ʒ��һ�������� $V$ �ı�����ÿ����Ʒ�������޼����á�

�� $i$ ����Ʒ������� $vi$����ֵ�� $wi$��

��⽫��Щ��Ʒװ�뱳������ʹ��Щ��Ʒ��������������������������ܼ�ֵ���
�������ֵ��

#### �����ʽ

��һ������������$N$��$V$���ÿո�������ֱ��ʾ��Ʒ�����ͱ����ݻ���

�������� $N$ �У�ÿ���������� $vi$,$wi$���ÿո�������ֱ��ʾ�� $i$ ����Ʒ������ͼ�ֵ��

#### �����ʽ

���һ����������ʾ����ֵ��

#### ���ݷ�Χ

$0<N,V��1000$

$0<vi,wi��1000$

#### ��������

```
4 5
1 2
2 4
3 4
4 5
```

#### ���������

```
10
```

### �����ط�������ʱ��

```c++
#include<iostream>
using namespace std;
const int N = 1010;
int f[N][N];
int v[N],w[N];
int main()
{
    int n,m;
    cin>>n>>m;
    for(int i = 1 ; i <= n ;i ++)
    {
        cin>>v[i]>>w[i];
    }

    for(int i = 1 ; i<=n ;i++)
    for(int j = 0 ; j<=m ;j++)
    {
        for(int k = 0 ; k*v[i]<=j ; k++)
            f[i][j] = max(f[i][j],f[i-1][j-k*v[i]]+k*w[i]);
    }

    cout<<f[n][m]<<endl;
}
```

### �Ż�˼·

�����о�һ�¸��´�����ڲ���ϵ��

```c++
f[i , j ] = max( f[i-1,j] , f[i-1,j-v]+w ,  f[i-1,j-2*v]+2*w , f[i-1,j-3*v]+3*w , .....)
f[i , j-v]= max(            f[i-1,j-v]   ,  f[i-1,j-2*v] + w , f[i-1,j-2*v]+2*w , .....)
������ʽ���ɵó����µ��ƹ�ϵ�� 
                        f[i][j]=max(f[i,j-v]+w , f[i-1][j]) 
```

��������Ĺ�ϵ����ô��ʵkѭ�����Բ�Ҫ�ˣ����Ĵ����Ż���������

```c++
for(int i = 1 ; i <=n ;i++)
for(int j = 0 ; j <=m ;j++)
{
    f[i][j] = f[i-1][j];
    if(j-v[i]>=0)
        f[i][j]=max(f[i][j],f[i][j-v[i]]+w[i]); //�����ظ���ѡ��
}
```

�Ա�һ�£�������01�����ĺ��Ĵ���

```c++
for(int i = 1 ; i <= n ; i++)
for(int j = 0 ; j <= m ; j ++)
{
    f[i][j] = f[i-1][j];
    if(j-v[i]>=0)
        f[i][j] = max(f[i][j],f[i-1][j-v[i]]+w[i]); //���ظ���ѡ��
}
```

����������ʵֻ��һ�䲻ͬ��ע���±꣩

`f[i][j] = max(f[i][j],f[i-1][j-v[i]]+w[i]);//01����`

`f[i][j] = max(f[i][j],f[i][j-v[i]]+w[i]);//��ȫ�������⣬���������ظ������Բ��� i -1`

��Ϊ��01����������������Ǻ������뵽��һ���Ż������Ĵ�����Ըĳ���������

- `f[j] = max(f[j],f[j-v[i]] + w[i])`���������ظ������Դ�С����ѡ��

```c++
 for(int i = 1 ; i<=n ;i++)
    for(int j = v[i] ; j<=m ;j++)//ע���ˣ������j�Ǵ�С����ö�٣���01������һ��
    {
            f[j] = max(f[j],f[j-v[i]]+w[i]);
    }
```

### �Ƚϼ���д��

```c++
#include<iostream>
using namespace std;
const int N = 1010;
int f[N];
int v[N],w[N];
int main()
{
    int n,m;
    cin>>n>>m;
    for(int i = 1 ; i <= n ;i ++)
    {
        cin>>v[i]>>w[i];
    }

    for(int i = 1 ; i<=n ;i++)
    for(int j = v[i] ; j<=m ;j++)
    {
            f[j] = max(f[j],f[j-v[i]]+w[i]);
    }
    cout<<f[m]<<endl;
}
```

---

[ԭ�ĵ�ַ](https://www.acwing.com/solution/content/5345/)